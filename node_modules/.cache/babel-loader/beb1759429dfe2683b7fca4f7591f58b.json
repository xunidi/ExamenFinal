{"ast":null,"code":"var _temp,\n    _jsxFileName = \"/Users/Xuni/git/linkClima/reactCourse.CM2019.myFirstApp/src/screens/Users/Users.js\";\n\nimport * as React from 'react';\nimport styles from './Users.module.scss';\nimport WebServices from '../../WebServices/WebServices';\nimport Input from '../../components/Input/Input';\nimport Button from '../../components/Button/Button';\nimport Table from '../../components/Table/Table';\nexport default (_temp = class Users extends React.PureComponent {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      response: {},\n      countries: ['mexico', 'canada', 'usa', 'india', 'china'],\n      countryUrl: \"https://restcountries.eu/rest/v2/name/mexico\",\n      urlClima: \"\",\n      selected: false\n    };\n\n    this.fetchData = async (urlCity, tipo) => {\n      try {\n        const response = '';\n\n        switch (tipo) {\n          case 'name':\n            const response = await WebServices.getWeather({\n              urlCity\n            });\n            this.setState({\n              response: response\n            });\n            break;\n\n          case 'id':\n            const response2 = await WebServices.getWeather({\n              urlCity\n            });\n            this.setState({\n              response: response2\n            });\n            break;\n\n          case 'coor':\n            const response3 = await WebServices.getWeather({\n              urlCity\n            });\n            this.setState({\n              response: response3\n            });\n            break;\n        }\n\n        console.log('TCL: fetchData -> response', response);\n      } catch (e) {}\n    };\n\n    this.showData = country => {\n      console.log('TCL: showData -> country', country);\n      this.fetchData(country);\n    };\n\n    this.onButtonNew = () => {\n      this.setState({\n        selected: true\n      });\n    };\n\n    this.onInputChange = event => {\n      console.log('TCL: showData -> country input clima');\n      const value = event.target.value;\n      this.setState({\n        urlClima: value\n      });\n      console.log('TCL: showData -> country input clima', value);\n    };\n\n    this.onClicklist = tipo => {\n      //const {urlClima} = this.state;\n      const tipoURL = tipo;\n      const urlWeatherApi = 'http://api.openweathermap.org/data/2.5/weather?id=708546&appid=d0b76fd83718eef1932b224506cfb48f';\n      let urlCompuesta = '';\n\n      switch (tipo) {\n        case 'name':\n          urlCompuesta = 'http://api.openweathermap.org/data/2.5/weather?q=London&appid=d0b76fd83718eef1932b224506cfb48f';\n          break;\n\n        case 'id':\n          urlCompuesta = urlWeatherApi;\n          break;\n\n        case 'coor':\n          urlCompuesta = 'http://api.openweathermap.org/data/2.5/weather?lat=35&lon=139&appid=d0b76fd83718eef1932b224506cfb48f';\n          break;\n      }\n\n      this.setState({\n        urlClima: urlCompuesta\n      });\n      this.fetchData(urlCompuesta, tipoURL);\n    };\n  }\n\n  //urlClima: \"api.openweathermap.org/data/2.5/weather?\"\n  componentDidMount() {//this.fetchData('mexico');\n  }\n\n  render() {\n    const _this$state = this.state,\n          response = _this$state.response,\n          countries = _this$state.countries,\n          countryUrl = _this$state.countryUrl,\n          urlClima = _this$state.urlClima,\n          selected = _this$state.selected;\n    const headers = ['city', 'temp', 'humidity', 'pressure'];\n    const data = response;\n    console.log('TCL: showData -> country input clima', response);\n    return React.createElement(\"div\", {\n      className: styles.main,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: styles.contenedor,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: styles.label,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Introduce URL de pa\\xEDs\"), React.createElement(Input, {\n      type: \"text\",\n      className: styles.input,\n      value: urlClima,\n      onChange: event => this.onInputChange(event),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(Button, {\n      type: 'other',\n      className: styles.button,\n      label: \"new\",\n      onClick: () => this.onButtonNew(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"NEW\"), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      onClick: event => this.onClicklist('name'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \" by City name\"), React.createElement(\"li\", {\n      onClick: event => this.onClicklist('id'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \" by City id\"), React.createElement(\"li\", {\n      onClick: event => this.onClicklist('coor'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \" By coordenades\"))), React.createElement(\"div\", {\n      className: styles.info,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Nombre:\", response && response.name), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"Temperatura:\", response && response.main && response.main.temp), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"Humedad:\", response && response.main && response.main.humidity), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"Presion:\", response && response.main && response.main.pressure)), selected && React.createElement(Table, {\n      data: data,\n      headers: headers,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    })));\n  }\n\n}, _temp);","map":{"version":3,"sources":["/Users/Xuni/git/linkClima/reactCourse.CM2019.myFirstApp/src/screens/Users/Users.js"],"names":["React","styles","WebServices","Input","Button","Table","Users","PureComponent","state","response","countries","countryUrl","urlClima","selected","fetchData","urlCity","tipo","getWeather","setState","response2","response3","console","log","e","showData","country","onButtonNew","onInputChange","event","value","target","onClicklist","tipoURL","urlWeatherApi","urlCompuesta","componentDidMount","render","headers","data","main","contenedor","label","input","button","info","name","temp","humidity","pressure"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport styles from './Users.module.scss';\nimport WebServices from '../../WebServices/WebServices';\nimport Input from '../../components/Input/Input';\nimport Button from '../../components/Button/Button';\nimport Table from '../../components/Table/Table';\n\nexport default (class Users extends React.PureComponent {\n\tstate = {\n\t\tresponse: {},\n\t\tcountries: [ 'mexico', 'canada', 'usa', 'india', 'china' ],\n\t\tcountryUrl:\"https://restcountries.eu/rest/v2/name/mexico\",\n\t\turlClima: \"\",\n\t\tselected:false\n\t};\n//urlClima: \"api.openweathermap.org/data/2.5/weather?\"\n\tcomponentDidMount() {\n\t\t//this.fetchData('mexico');\n\t}\n\n\tfetchData = async (urlCity, tipo) => {\n\t\ttry {\n\t\t\tconst response = '';\t\n\t\t\tswitch(tipo){\n\t\t\t\t\tcase 'name': \n\t\t\t\t\tconst response = await WebServices.getWeather({\n\t\t\t\t\t\turlCity\n\t\t\t\t\t});\n\t\t\t\t\tthis.setState({ response: response });\n\t\t\t\tbreak;\n\t\t\t\tcase 'id':\n\t\t\t\t\tconst response2 = await WebServices.getWeather({\n\t\t\t\t\t\turlCity\n\t\t\t\t\t});\n\t\t\t\t\tthis.setState({ response: response2 });\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'coor':\n\t\t\t\t\t\tconst response3 = await WebServices.getWeather({\n\t\t\t\t\t\t\turlCity\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.setState({ response: response3 });\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\n\t\t\tconsole.log('TCL: fetchData -> response', response);\n\t\t} catch (e) {}\n\t};\n\n\tshowData = (country) => {\n\t\tconsole.log('TCL: showData -> country', country);\n\t\tthis.fetchData(country);\n\t};\n\n\t/*onHandleIcon = (item) => {\n\t\tconst nextState = produce(this.state, (draft) => {\n\t\t\tdraft.selected.table = false;\n\t\t\tdraft.selected.chart = false;\n\t\t\tdraft.selected[item] = true;\n\t\t});\n\t\tthis.setState(nextState);\n\t};*/\n\n\tonButtonNew = () => {\n\t\tthis.setState({selected:true});\n\t};\n\n\tonInputChange = (event) => {\n\t\tconsole.log('TCL: showData -> country input clima');\n\t\tconst value = event.target.value;\n\t\tthis.setState({urlClima:value });\n\t\tconsole.log('TCL: showData -> country input clima',value);\n\t};\n\n\tonClicklist = (tipo) => {\n\t\t//const {urlClima} = this.state;\n\t\tconst tipoURL = tipo;\n\t\tconst urlWeatherApi = 'http://api.openweathermap.org/data/2.5/weather?id=708546&appid=d0b76fd83718eef1932b224506cfb48f';\n\n\t\tlet urlCompuesta = '';\n\t\tswitch(tipo){\n\t\t\tcase 'name':\n\t\t\t\turlCompuesta = 'http://api.openweathermap.org/data/2.5/weather?q=London&appid=d0b76fd83718eef1932b224506cfb48f';\n\t\t\t\tbreak;\n\t\t\tcase 'id':\n\t\t\t\turlCompuesta =  urlWeatherApi;\n\t\t\t\tbreak;\n\t\t\tcase 'coor':\n\t\t\t\turlCompuesta = 'http://api.openweathermap.org/data/2.5/weather?lat=35&lon=139&appid=d0b76fd83718eef1932b224506cfb48f';\n\t\t\t\tbreak;\t\t\n\n\t\t}\n\t\tthis.setState({urlClima:urlCompuesta });\n\t\tthis.fetchData(urlCompuesta,tipoURL);\n\t};\n\n\trender() {\n\t\t\n\t\tconst { response, countries,countryUrl,urlClima,selected } = this.state;\n\t\tconst headers = ['city','temp','humidity','pressure'];\n\t\tconst data = response;\n\t\tconsole.log('TCL: showData -> country input clima',response);\n\t\treturn (\n\t\t\t<div className={styles.main}>\n\t\n\t\t\t\t<div className={styles.contenedor}>\n\t\t\t\t\t<label className={styles.label}>Introduce URL de país</label>\n\t\t\t\t\t<Input type=\"text\" className={styles.input} value={urlClima} onChange={(event) => this.onInputChange(event)} />\n\t\t\t\t\t<Button type={'other'} className={styles.button} label={\"new\"} onClick={() => this.onButtonNew()}>NEW</Button>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li onClick={(event) => this.onClicklist('name')}> by City name</li>\n\t\t\t\t\t\t<li onClick={(event) => this.onClicklist('id')}> by City id</li>\n\t\t\t\t\t\t<li onClick={(event) => this.onClicklist('coor')}> By coordenades</li>\n\t\t\t\t\t</ul>\t\n\t\t\t\t</div>\t\n\n\t\t\t\t<div className={styles.info}>\n\t\t\t\t<ul>\n\t\t\t\t<li>Nombre:{response && response.name}</li>\n\t\t\t\t<li>Temperatura:{response && response.main && response.main.temp}</li>\n\t\t\t\t<li>Humedad:{response && response.main && response.main.humidity}</li>\n\t\t\t\t<li>Presion:{response && response.main && response.main.pressure}</li>\n\t\t\t\t</ul>\n\t\t\t\t{selected && <Table data={data} headers={headers} />}\n\t\t\t\t{\n\t\t\t\t\t\n\t\t\t\t\t/*<ul>\n\t\t\t\t\t\t<li> País: {response && response.name}</li>\n\t\t\t\t\t\t<li> Capital: {response && response.capital}</li>\n\t\t\t\t\t\t<li> Población: {response && response.population}</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\tIdioma:\n\t\t\t\t\t\t\t{response &&\n\t\t\t\t\t\t\t\tresponse.languages &&\n\t\t\t\t\t\t\t\tresponse.languages.map((item, i) => {\n\t\t\t\t\t\t\t\t\treturn response.languages.length > 1 && i !== response.languages.length - 1 ? ' ' + item.nativeName + ', ' : ' ' + item.nativeName;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li> Región: {response && response.region}</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\tMonedas:\n\t\t\t\t\t\t\t{response &&\n\t\t\t\t\t\t\t\tresponse.currencies &&\n\t\t\t\t\t\t\t\tresponse.currencies.map((item, i) => {\n\t\t\t\t\t\t\t\t\treturn response.currencies.length > 1 && i !== response.currencies.length - 1 ? ' ' + item.name + ', ' : ' ' + item.name;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t<img className={styles.image} src = {response && response.flag}/> */}\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n});\n"]},"metadata":{},"sourceType":"module"}